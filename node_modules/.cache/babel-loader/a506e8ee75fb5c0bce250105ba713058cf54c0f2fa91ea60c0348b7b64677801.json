{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '../assets/icon/add_btn.png';\nimport _imports_1 from '../assets/icon/down.png';\nimport _imports_2 from '../assets/icon/up.png';\nconst _withScopeId = n => (_pushScopeId(\"data-v-3eca7188\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  id: \"sideBar\"\n};\nconst _hoisted_2 = {\n  class: \"create-project\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"전체 프로젝트\", -1 /* HOISTED */));\nconst _hoisted_4 = {\n  class: \"project-list\"\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"목록보기\", -1 /* HOISTED */));\nconst _hoisted_6 = {\n  key: 0\n};\nconst _hoisted_7 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_CreateProjectModal = _resolveComponent(\"CreateProjectModal\");\n  return _openBlock(), _createElementBlock(\"aside\", null, [_createElementVNode(\"nav\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"img\", {\n    src: _imports_0,\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.openModal && $options.openModal(...args))\n  }), _createVNode(_component_CreateProjectModal, {\n    visible: $data.showModal,\n    onClose: $options.closeModal,\n    onConfirm: _ctx.addTask,\n    onProjectCreated: $options.handleProjectCreated,\n    projectData: _ctx.selectedProject\n  }, null, 8 /* PROPS */, [\"visible\", \"onClose\", \"onConfirm\", \"onProjectCreated\", \"projectData\"])]), _createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_4, [_hoisted_5, !$data.showProjects ? (_openBlock(), _createElementBlock(\"img\", {\n    key: 0,\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.toggleProjects && $options.toggleProjects(...args)),\n    src: _imports_1\n  })) : (_openBlock(), _createElementBlock(\"img\", {\n    key: 1,\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.toggleProjects && $options.toggleProjects(...args)),\n    src: _imports_2\n  }))]), _createElementVNode(\"div\", null, [$data.showProjects ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_6, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.projects, project => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: project.project_num\n    }, [_createElementVNode(\"span\", {\n      class: \"project-title\",\n      onClick: $event => $options.selectProject(project)\n    }, _toDisplayString(project.project_title), 9 /* TEXT, PROPS */, _hoisted_7)]);\n  }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true)])])])]);\n}","map":{"version":3,"names":["_imports_0","_imports_1","_imports_2","id","class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","src","onClick","_cache","args","$options","openModal","_createVNode","_component_CreateProjectModal","visible","$data","showModal","onClose","closeModal","onConfirm","_ctx","addTask","onProjectCreated","handleProjectCreated","projectData","selectedProject","_hoisted_4","_hoisted_5","showProjects","toggleProjects","_hoisted_6","_Fragment","_renderList","projects","project","key","project_num","$event","selectProject","project_title","_hoisted_7"],"sources":["C:\\vue_everyware\\WBS\\src\\components\\SideBar.vue"],"sourcesContent":["<template>\r\n  <aside>\r\n    <nav id=\"sideBar\">\r\n        <div class=\"create-project\">\r\n            <span>전체 프로젝트</span>\r\n            <img src=\"../assets/icon/add_btn.png\" @click=\"openModal\">\r\n            <CreateProjectModal :visible=\"showModal\" @close=\"closeModal\" @confirm=\"addTask\" @projectCreated=\"handleProjectCreated\"\r\n            :projectData=\"selectedProject\"></CreateProjectModal>\r\n        </div>\r\n          <div>\r\n            <div class=\"project-list\">\r\n              <span>목록보기</span>\r\n              <img v-if=\"!showProjects\" @click=\"toggleProjects\" src=\"../assets/icon/down.png\">\r\n              <img v-else @click=\"toggleProjects\" src=\"../assets/icon/up.png\">\r\n            </div>\r\n            <div>\r\n              <ul v-if=\"showProjects\">                                                                                                   \r\n              <li v-for=\"project in projects\" :key=\"project.project_num\">\r\n                <span class=\"project-title\" @click=\"selectProject(project)\">{{ project.project_title }}</span>\r\n              </li>\r\n            </ul>\r\n            </div>\r\n          </div>\r\n\r\n    </nav>\r\n  </aside>\r\n</template>\r\n\r\n<script>\r\nimport CreateProjectModal from \"./CreateProjectModal.vue\";\r\nimport axios from \"axios\";\r\nimport mixin from \"../mixin\";\r\nimport { mapState } from \"vuex\";\r\n\r\nexport default {\r\n  name: 'SideBar',\r\n  mixins:[mixin],\r\n  components:{CreateProjectModal},\r\n\r\n  data() {\r\n    return {\r\n      showModal: false,\r\n      showProjects: false,\r\n      member_num:''\r\n    };\r\n  },\r\n  mounted(){\r\n    this.renderProjectList();\r\n    this.renderTodoList();\r\n  },\r\n  computed:{\r\n    ...mapState(['projectList', 'selectedProject']),\r\n    projects() {\r\n      return this.projectList;\r\n    }\r\n  },\r\n  methods: {\r\n    forTest(temp){\r\n      console.log(\"key : \" + temp);\r\n      this.key = temp;\r\n    },\r\n    toggleProjects() {\r\n      this.showProjects = !this.showProjects;\r\n    },\r\n    closeModal() {\r\n      this.showModal = false;\r\n    },\r\n    openModal() {\r\n      this.showModal = true;\r\n    },\r\n    handleProjectCreated(newProject) {\r\n      this.projects.push(newProject);\r\n      this.member_num = newProject.member_num;\r\n    },\r\n    async renderProjectList(){\r\n      try {\r\n        const response = await axios.get(\"http://localhost:8030/api/projectList?t_key=\"+this.key);\r\n          this.$store.dispatch('updateProjectsData', response.data);\r\n      } catch (error) {\r\n        console.log(\"Project List Rendering error >>>>\", error);\r\n      }\r\n    },\r\n    async renderTodoList(){\r\n      try {\r\n        const response = await axios.post(\"http://localhost:8030/api/getAllTodoList\", {\r\n          project_num: this.$store.state.selectProject.id,\r\n          t_key: this.key\r\n        })\r\n        this.$store.dispatch('updateTodosData', response.data);\r\n        console.log(\"this.$store.state.selectProject >>>>>>\", this.$store.state.selectProject)\r\n      } catch (error) {\r\n        console.log(\"Todo List Rendering error >>>>\", error);\r\n      }\r\n    },\r\n    selectProject(project) {\r\n      this.$emit('findList', project);\r\n      // this.$emit('titleFromChild', e.target.value)\r\n      // this.$store.commit('setSelectedProject', project);\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@import url(\"../assets/css/sidebar.css\");\r\n\r\n.project-title:hover{\r\n  cursor: pointer;\r\n}\r\n\r\n</style>\r\n"],"mappings":";OAKiBA,UAAgC;OAOeC,UAA6B;OAC3CC,UAA2B;;;EAXpEC,EAAE,EAAC;AAAS;;EACRC,KAAK,EAAC;AAAgB;gEACvBC,mBAAA,CAAoB,cAAd,SAAO;;EAMRD,KAAK,EAAC;AAAc;gEACvBC,mBAAA,CAAiB,cAAX,MAAI;;;;;;;uBAVtBC,mBAAA,CAwBQ,gBAvBND,mBAAA,CAsBM,OAtBNE,UAsBM,GArBFF,mBAAA,CAKM,OALNG,UAKM,GAJFC,UAAoB,EACpBJ,mBAAA,CAAyD;IAApDK,GAAgC,EAAhCV,UAAgC;IAAEW,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,SAAA,IAAAD,QAAA,CAAAC,SAAA,IAAAF,IAAA,CAAS;MACvDG,YAAA,CACoDC,6BAAA;IAD/BC,OAAO,EAAEC,KAAA,CAAAC,SAAS;IAAGC,OAAK,EAAEP,QAAA,CAAAQ,UAAU;IAAGC,SAAO,EAAEC,IAAA,CAAAC,OAAO;IAAGC,gBAAc,EAAEZ,QAAA,CAAAa,oBAAoB;IACpHC,WAAW,EAAEJ,IAAA,CAAAK;qGAEhBxB,mBAAA,CAaM,cAZJA,mBAAA,CAIM,OAJNyB,UAIM,GAHJC,UAAiB,E,CACLZ,KAAA,CAAAa,YAAY,I,cAAxB1B,mBAAA,CAAgF;;IAArDK,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAmB,cAAA,IAAAnB,QAAA,CAAAmB,cAAA,IAAApB,IAAA,CAAc;IAAEH,GAA6B,EAA7BT;uBAClDK,mBAAA,CAAgE;;IAAnDK,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAmB,cAAA,IAAAnB,QAAA,CAAAmB,cAAA,IAAApB,IAAA,CAAc;IAAEH,GAA2B,EAA3BR;SAEtCG,mBAAA,CAMM,cALMc,KAAA,CAAAa,YAAY,I,cAAtB1B,mBAAA,CAIG,MAAA4B,UAAA,I,kBAHH5B,mBAAA,CAEK6B,SAAA,QAAAC,WAAA,CAFiBtB,QAAA,CAAAuB,QAAQ,EAAnBC,OAAO;yBAAlBhC,mBAAA,CAEK;MAF4BiC,GAAG,EAAED,OAAO,CAACE;QAC5CnC,mBAAA,CAA8F;MAAxFD,KAAK,EAAC,eAAe;MAAEO,OAAK,EAAA8B,MAAA,IAAE3B,QAAA,CAAA4B,aAAa,CAACJ,OAAO;wBAAMA,OAAO,CAACK,aAAa,wBAAAC,UAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}