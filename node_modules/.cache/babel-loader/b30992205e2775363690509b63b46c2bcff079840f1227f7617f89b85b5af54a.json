{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport CreateProjectModal from \"./CreateProjectModal.vue\";\nimport axios from \"axios\";\nimport mixin from \"../mixin\";\nimport { mapState } from \"vuex\";\nexport default {\n  name: 'SideBar',\n  mixins: [mixin],\n  components: {\n    CreateProjectModal\n  },\n  inject: [\"eventBus\"],\n  data() {\n    return {\n      showModal: false,\n      showProjects: false,\n      member_num: ''\n    };\n  },\n  mounted() {\n    this.renderProjectList();\n    this.renderTodoList();\n  },\n  computed: {\n    ...mapState(['projectList', 'selectedProject']),\n    projects() {\n      return this.projectList;\n    }\n  },\n  methods: {\n    forTest(temp) {\n      console.log(\"key : \" + temp);\n      this.key = temp;\n    },\n    toggleProjects() {\n      this.showProjects = !this.showProjects;\n    },\n    closeModal() {\n      this.showModal = false;\n    },\n    openModal() {\n      this.showModal = true;\n    },\n    handleProjectCreated(newProject) {\n      this.projects.push(newProject);\n      this.member_num = newProject.member_num;\n    },\n    async renderProjectList() {\n      try {\n        const response = await axios.get(\"http://localhost:8030/api/projectList?t_key=\" + this.key);\n        this.$store.dispatch('updateProjectsData', response.data);\n      } catch (error) {\n        console.log(\"Project List Rendering error >>>>\", error);\n      }\n    },\n    async renderTodoList() {\n      try {\n        const response = await axios.post(\"http://localhost:8030/api/getAllTodoList\", {\n          project_num: this.$store.state.selectProject.id,\n          t_key: this.key\n        });\n        this.$store.dispatch('updateTodosData', response.data);\n        console.log(\"this.$store.state.selectProject >>>>>>\", this.$store.state.selectProject);\n      } catch (error) {\n        console.log(\"Todo List Rendering error >>>>\", error);\n      }\n    },\n    selectProject(project) {\n      this.eventBus.emit('findList', project);\n      // this.$emit('titleFromChild', e.target.value)\n      // this.$store.commit('setSelectedProject', project);\n    }\n  }\n};","map":{"version":3,"names":["CreateProjectModal","axios","mixin","mapState","name","mixins","components","inject","data","showModal","showProjects","member_num","mounted","renderProjectList","renderTodoList","computed","projects","projectList","methods","forTest","temp","console","log","key","toggleProjects","closeModal","openModal","handleProjectCreated","newProject","push","response","get","$store","dispatch","error","post","project_num","state","selectProject","id","t_key","project","eventBus","emit"],"sources":["C:\\vue_everyware\\WBS\\src\\components\\SideBar.vue"],"sourcesContent":["<template>\r\n  <aside>\r\n    <nav id=\"sideBar\">\r\n        <div class=\"create-project\">\r\n            <span>전체 프로젝트</span>\r\n            <img src=\"../assets/icon/add_btn.png\" @click=\"openModal\">\r\n            <CreateProjectModal :visible=\"showModal\" @close=\"closeModal\" @confirm=\"addTask\" @projectCreated=\"handleProjectCreated\"\r\n            :projectData=\"selectedProject\"></CreateProjectModal>\r\n        </div>\r\n          <div>\r\n            <div class=\"project-list\">\r\n              <span>목록보기</span>\r\n              <img v-if=\"!showProjects\" @click=\"toggleProjects\" src=\"../assets/icon/down.png\">\r\n              <img v-else @click=\"toggleProjects\" src=\"../assets/icon/up.png\">\r\n            </div>\r\n            <div>\r\n              <ul v-if=\"showProjects\">                                                                                                   \r\n              <li v-for=\"project in projects\" :key=\"project.project_num\">\r\n                <span class=\"project-title\" @click=\"selectProject(project)\">{{ project.project_title }}</span>\r\n              </li>\r\n            </ul>\r\n            </div>\r\n          </div>\r\n\r\n    </nav>\r\n  </aside>\r\n</template>\r\n\r\n<script>\r\nimport CreateProjectModal from \"./CreateProjectModal.vue\";\r\nimport axios from \"axios\";\r\nimport mixin from \"../mixin\";\r\nimport { mapState } from \"vuex\";\r\n\r\nexport default {\r\n  name: 'SideBar',\r\n  mixins:[mixin],\r\n  components:{CreateProjectModal},\r\n  inject: [\"eventBus\"],\r\n  data() {\r\n    return {\r\n      showModal: false,\r\n      showProjects: false,\r\n      member_num:''\r\n    };\r\n  },\r\n  mounted(){\r\n    this.renderProjectList();\r\n    this.renderTodoList();\r\n  },\r\n  computed:{\r\n    ...mapState(['projectList', 'selectedProject']),\r\n    projects() {\r\n      return this.projectList;\r\n    }\r\n  },\r\n  methods: {\r\n    forTest(temp){\r\n      console.log(\"key : \" + temp);\r\n      this.key = temp;\r\n    },\r\n    toggleProjects() {\r\n      this.showProjects = !this.showProjects;\r\n    },\r\n    closeModal() {\r\n      this.showModal = false;\r\n    },\r\n    openModal() {\r\n      this.showModal = true;\r\n    },\r\n    handleProjectCreated(newProject) {\r\n      this.projects.push(newProject);\r\n      this.member_num = newProject.member_num;\r\n    },\r\n    async renderProjectList(){\r\n      try {\r\n        const response = await axios.get(\"http://localhost:8030/api/projectList?t_key=\"+this.key);\r\n          this.$store.dispatch('updateProjectsData', response.data);\r\n      } catch (error) {\r\n        console.log(\"Project List Rendering error >>>>\", error);\r\n      }\r\n    },\r\n    async renderTodoList(){\r\n      try {\r\n        const response = await axios.post(\"http://localhost:8030/api/getAllTodoList\", {\r\n          project_num: this.$store.state.selectProject.id,\r\n          t_key: this.key\r\n        })\r\n        this.$store.dispatch('updateTodosData', response.data);\r\n        console.log(\"this.$store.state.selectProject >>>>>>\", this.$store.state.selectProject)\r\n      } catch (error) {\r\n        console.log(\"Todo List Rendering error >>>>\", error);\r\n      }\r\n    },\r\n    selectProject(project) {\r\n      this.eventBus.emit('findList', project);\r\n      // this.$emit('titleFromChild', e.target.value)\r\n      // this.$store.commit('setSelectedProject', project);\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@import url(\"../assets/css/sidebar.css\");\r\n\r\n.project-title:hover{\r\n  cursor: pointer;\r\n}\r\n\r\n</style>\r\n"],"mappings":";AA6BA,OAAOA,kBAAiB,MAAO,0BAA0B;AACzD,OAAOC,KAAI,MAAO,OAAO;AACzB,OAAOC,KAAI,MAAO,UAAU;AAC5B,SAASC,QAAO,QAAS,MAAM;AAE/B,eAAe;EACbC,IAAI,EAAE,SAAS;EACfC,MAAM,EAAC,CAACH,KAAK,CAAC;EACdI,UAAU,EAAC;IAACN;EAAkB,CAAC;EAC/BO,MAAM,EAAE,CAAC,UAAU,CAAC;EACpBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,KAAK;MAChBC,YAAY,EAAE,KAAK;MACnBC,UAAU,EAAC;IACb,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAE;IACP,IAAI,CAACC,iBAAiB,CAAC,CAAC;IACxB,IAAI,CAACC,cAAc,CAAC,CAAC;EACvB,CAAC;EACDC,QAAQ,EAAC;IACP,GAAGZ,QAAQ,CAAC,CAAC,aAAa,EAAE,iBAAiB,CAAC,CAAC;IAC/Ca,QAAQA,CAAA,EAAG;MACT,OAAO,IAAI,CAACC,WAAW;IACzB;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,OAAOA,CAACC,IAAI,EAAC;MACXC,OAAO,CAACC,GAAG,CAAC,QAAO,GAAIF,IAAI,CAAC;MAC5B,IAAI,CAACG,GAAE,GAAIH,IAAI;IACjB,CAAC;IACDI,cAAcA,CAAA,EAAG;MACf,IAAI,CAACd,YAAW,GAAI,CAAC,IAAI,CAACA,YAAY;IACxC,CAAC;IACDe,UAAUA,CAAA,EAAG;MACX,IAAI,CAAChB,SAAQ,GAAI,KAAK;IACxB,CAAC;IACDiB,SAASA,CAAA,EAAG;MACV,IAAI,CAACjB,SAAQ,GAAI,IAAI;IACvB,CAAC;IACDkB,oBAAoBA,CAACC,UAAU,EAAE;MAC/B,IAAI,CAACZ,QAAQ,CAACa,IAAI,CAACD,UAAU,CAAC;MAC9B,IAAI,CAACjB,UAAS,GAAIiB,UAAU,CAACjB,UAAU;IACzC,CAAC;IACD,MAAME,iBAAiBA,CAAA,EAAE;MACvB,IAAI;QACF,MAAMiB,QAAO,GAAI,MAAM7B,KAAK,CAAC8B,GAAG,CAAC,8CAA8C,GAAC,IAAI,CAACR,GAAG,CAAC;QACvF,IAAI,CAACS,MAAM,CAACC,QAAQ,CAAC,oBAAoB,EAAEH,QAAQ,CAACtB,IAAI,CAAC;MAC7D,EAAE,OAAO0B,KAAK,EAAE;QACdb,OAAO,CAACC,GAAG,CAAC,mCAAmC,EAAEY,KAAK,CAAC;MACzD;IACF,CAAC;IACD,MAAMpB,cAAcA,CAAA,EAAE;MACpB,IAAI;QACF,MAAMgB,QAAO,GAAI,MAAM7B,KAAK,CAACkC,IAAI,CAAC,0CAA0C,EAAE;UAC5EC,WAAW,EAAE,IAAI,CAACJ,MAAM,CAACK,KAAK,CAACC,aAAa,CAACC,EAAE;UAC/CC,KAAK,EAAE,IAAI,CAACjB;QACd,CAAC;QACD,IAAI,CAACS,MAAM,CAACC,QAAQ,CAAC,iBAAiB,EAAEH,QAAQ,CAACtB,IAAI,CAAC;QACtDa,OAAO,CAACC,GAAG,CAAC,wCAAwC,EAAE,IAAI,CAACU,MAAM,CAACK,KAAK,CAACC,aAAa;MACvF,EAAE,OAAOJ,KAAK,EAAE;QACdb,OAAO,CAACC,GAAG,CAAC,gCAAgC,EAAEY,KAAK,CAAC;MACtD;IACF,CAAC;IACDI,aAAaA,CAACG,OAAO,EAAE;MACrB,IAAI,CAACC,QAAQ,CAACC,IAAI,CAAC,UAAU,EAAEF,OAAO,CAAC;MACvC;MACA;IACF;EAEF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}